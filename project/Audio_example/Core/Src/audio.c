#include "audio.h"

void init_AudioReset () {
    HAL_GPIO_WritePin(GPIOD, AUDIO_RESET_PIN, GPIO_PIN_SET);
}

void configAudio () {
    uint8_t bytes[2];
    init_AudioReset();

    /** Power sequence **/
    // Set Power Control Register to "on" state
    bytes [0] = 0x02;
    bytes [1] = 0x01;
    HAL_I2C_Master_Transmit(&hi2c1, AUDIO_I2C_ADDRESS, bytes, 2, 100) ;

    /** Initialization sequence **/
    bytes [0] = 0x00;
    bytes [1] = 0x99;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x47;
    bytes [1] = 0x80;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x32;
    bytes [1] = 0x80;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x32;
    bytes [1] = 0x0;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x00;
    bytes [1] = 0x00;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    /** Ctl registers configuration **/
    bytes [0] = 0x04;
    bytes [1] = 0xAF;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x0D;
    bytes [1] = 0x70;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x05;
    bytes [1] = 0x81;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x06;
    bytes [1] = 0x07;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x0A;
    bytes [1] = 0x00;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x27;
    bytes [1] = 0x00;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x1F;
    bytes [1] = 0x0F;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x22;
    bytes [1] = 0xC0;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x14;
    bytes [1] = 2;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x15;
    bytes [1] = 2;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x20;
    bytes [1] = 24;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    bytes [0] = 0x21;
    bytes [1] = 24;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;

    /** Power up **/
    bytes [0] = 0x02;
    bytes [1] = 0x9E;
    HAL_I2C_Master_Transmit (&hi2c1 , AUDIO_I2C_ADDRESS , bytes , 2, 100) ;
}


int16_t sine_table[] = {
		0,0,
		650,650,1300,1300,1950,1950,2600,2600,3250,3250,3900,3900,4550,4550,5200,5200,5850,5850,6500,6500,
		7150,7150,7800,7800,8450,8450,9100,9100,9750,9750,10400,10400,11050,11050,11700,11700,12350,12350,13000,13000,
		13650,13650,14300,14300,14950,14950,15600,15600,16250,16250,16900,16900,17550,17550,18200,18200,18850,18850,19500,19500,
		20150,20150,20800,20800,21450,21450,22100,22100,22750,22750,23400,23400,24050,24050,24700,24700,25350,25350,26000,26000,
		26650,26650,27300,27300,27950,27950,28600,28600,29250,29250,29900,29900,30550,30550,31200,31200,31850,31850,32500,32500,
		33150,33150,33800,33800,34450,34450,35100,35100,35750,35750,36400,36400,37050,37050,37700,37700,38350,38350,39000,39000,
		39650,39650,40300,40300,40950,40950,41600,41600,42250,42250,42900,42900,43550,43550,44200,44200,44850,44850,45500,45500,
		46150,46150,46800,46800,47450,47450,48100,48100,48750,48750,49400,49400,50050,50050,50700,50700,51350,51350,52000,52000,
		52650,52650,53300,53300,53950,53950,54600,54600,55250,55250,55900,55900,56550,56550,57200,57200,57850,57850,58500,58500,
		59150,59150,59800,59800,60450,60450,61100,61100,61750,61750,62400,62400,63050,63050,63700,63700,64350,64350
		};


/*
uint16_t sine_table[2048]=
{
	0X8000, 0X8064, 0X80C9, 0X812D, 0X8192, 0X81F6, 0X825B, 0X82BF, 0X8324, 0X8388, 0X83ED, 0X8451, 0X84B6, 0X851A, 0X857E, 0X85E3,
0X8647, 0X86AC, 0X8710, 0X8774, 0X87D9, 0X883D, 0X88A1, 0X8906, 0X896A, 0X89CE, 0X8A32, 0X8A97, 0X8AFB, 0X8B5F, 0X8BC3, 0X8C27,
0X8C8B, 0X8CEF, 0X8D53, 0X8DB7, 0X8E1B, 0X8E7F, 0X8EE3, 0X8F47, 0X8FAB, 0X900E, 0X9072, 0X90D6, 0X9139, 0X919D, 0X9201, 0X9264,
0X92C7, 0X932B, 0X938E, 0X93F2, 0X9455, 0X94B8, 0X951B, 0X957E, 0X95E1, 0X9645, 0X96A7, 0X970A, 0X976D, 0X97D0, 0X9833, 0X9895,
0X98F8, 0X995B, 0X99BD, 0X9A20, 0X9A82, 0X9AE4, 0X9B47, 0X9BA9, 0X9C0B, 0X9C6D, 0X9CCF, 0X9D31, 0X9D93, 0X9DF4, 0X9E56, 0X9EB8,
0X9F19, 0X9F7B, 0X9FDC, 0XA03E, 0XA09F, 0XA100, 0XA161, 0XA1C2, 0XA223, 0XA284, 0XA2E5, 0XA345, 0XA3A6, 0XA406, 0XA467, 0XA4C7,
0XA527, 0XA588, 0XA5E8, 0XA648, 0XA6A7, 0XA707, 0XA767, 0XA7C7, 0XA826, 0XA885, 0XA8E5, 0XA944, 0XA9A3, 0XAA02, 0XAA61, 0XAAC0,
0XAB1F, 0XAB7D, 0XABDC, 0XAC3A, 0XAC98, 0XACF6, 0XAD55, 0XADB3, 0XAE10, 0XAE6E, 0XAECC, 0XAF29, 0XAF87, 0XAFE4, 0XB041, 0XB09E,
0XB0FB, 0XB158, 0XB1B5, 0XB211, 0XB26E, 0XB2CA, 0XB326, 0XB382, 0XB3DE, 0XB43A, 0XB496, 0XB4F1, 0XB54D, 0XB5A8, 0XB603, 0XB65E,
0XB6B9, 0XB714, 0XB76F, 0XB7C9, 0XB824, 0XB87E, 0XB8D8, 0XB932, 0XB98C, 0XB9E6, 0XBA3F, 0XBA99, 0XBAF2, 0XBB4B, 0XBBA4, 0XBBFD,
0XBC56, 0XBCAF, 0XBD07, 0XBD5F, 0XBDB7, 0XBE0F, 0XBE67, 0XBEBF, 0XBF17, 0XBF6E, 0XBFC5, 0XC01C, 0XC073, 0XC0CA, 0XC121, 0XC177,
0XC1CD, 0XC224, 0XC279, 0XC2CF, 0XC325, 0XC37A, 0XC3D0, 0XC425, 0XC47A, 0XC4CF, 0XC524, 0XC578, 0XC5CC, 0XC621, 0XC675, 0XC6C8,
0XC71C, 0XC770, 0XC7C3, 0XC816, 0XC869, 0XC8BC, 0XC90F, 0XC961, 0XC9B3, 0XCA05, 0XCA57, 0XCAA9, 0XCAFB, 0XCB4C, 0XCB9D, 0XCBEE,
0XCC3F, 0XCC90, 0XCCE0, 0XCD30, 0XCD81, 0XCDD0, 0XCE20, 0XCE70, 0XCEBF, 0XCF0E, 0XCF5D, 0XCFAC, 0XCFFB, 0XD049, 0XD097, 0XD0E5,
0XD133, 0XD181, 0XD1CE, 0XD21B, 0XD268, 0XD2B5, 0XD302, 0XD34E, 0XD39A, 0XD3E6, 0XD432, 0XD47E, 0XD4C9, 0XD514, 0XD55F, 0XD5AA,
0XD5F5, 0XD63F, 0XD689, 0XD6D3, 0XD71D, 0XD767, 0XD7B0, 0XD7F9, 0XD842, 0XD88B, 0XD8D3, 0XD91B, 0XD964, 0XD9AB, 0XD9F3, 0XDA3A,
0XDA82, 0XDAC9, 0XDB0F, 0XDB56, 0XDB9C, 0XDBE2, 0XDC28, 0XDC6E, 0XDCB3, 0XDCF8, 0XDD3D, 0XDD82, 0XDDC7, 0XDE0B, 0XDE4F, 0XDE93,
0XDED7, 0XDF1A, 0XDF5D, 0XDFA0, 0XDFE3, 0XE025, 0XE068, 0XE0AA, 0XE0EB, 0XE12D, 0XE16E, 0XE1AF, 0XE1F0, 0XE231, 0XE271, 0XE2B1,
0XE2F1, 0XE331, 0XE370, 0XE3AF, 0XE3EE, 0XE42D, 0XE46B, 0XE4AA, 0XE4E8, 0XE525, 0XE563, 0XE5A0, 0XE5DD, 0XE61A, 0XE656, 0XE693,
0XE6CF, 0XE70A, 0XE746, 0XE781, 0XE7BC, 0XE7F7, 0XE831, 0XE86C, 0XE8A6, 0XE8DF, 0XE919, 0XE952, 0XE98B, 0XE9C4, 0XE9FC, 0XEA35,
0XEA6D, 0XEAA4, 0XEADC, 0XEB13, 0XEB4A, 0XEB81, 0XEBB7, 0XEBED, 0XEC23, 0XEC59, 0XEC8E, 0XECC3, 0XECF8, 0XED2D, 0XED61, 0XED95,
0XEDC9, 0XEDFD, 0XEE30, 0XEE63, 0XEE96, 0XEEC8, 0XEEFA, 0XEF2C, 0XEF5E, 0XEF8F, 0XEFC1, 0XEFF2, 0XF022, 0XF052, 0XF083, 0XF0B2,
0XF0E2, 0XF111, 0XF140, 0XF16F, 0XF19D, 0XF1CB, 0XF1F9, 0XF227, 0XF254, 0XF281, 0XF2AE, 0XF2DB, 0XF307, 0XF333, 0XF35E, 0XF38A,
0XF3B5, 0XF3E0, 0XF40A, 0XF435, 0XF45F, 0XF488, 0XF4B2, 0XF4DB, 0XF504, 0XF52C, 0XF555, 0XF57D, 0XF5A5, 0XF5CC, 0XF5F3, 0XF61A,
0XF641, 0XF667, 0XF68D, 0XF6B3, 0XF6D8, 0XF6FE, 0XF722, 0XF747, 0XF76B, 0XF78F, 0XF7B3, 0XF7D7, 0XF7FA, 0XF81D, 0XF83F, 0XF862,
0XF884, 0XF8A5, 0XF8C7, 0XF8E8, 0XF909, 0XF929, 0XF94A, 0XF969, 0XF989, 0XF9A9, 0XF9C8, 0XF9E6, 0XFA05, 0XFA23, 0XFA41, 0XFA5F,
0XFA7C, 0XFA99, 0XFAB6, 0XFAD2, 0XFAEE, 0XFB0A, 0XFB26, 0XFB41, 0XFB5C, 0XFB77, 0XFB91, 0XFBAB, 0XFBC5, 0XFBDE, 0XFBF8, 0XFC10,
0XFC29, 0XFC41, 0XFC59, 0XFC71, 0XFC88, 0XFC9F, 0XFCB6, 0XFCCD, 0XFCE3, 0XFCF9, 0XFD0E, 0XFD24, 0XFD39, 0XFD4D, 0XFD62, 0XFD76,
0XFD89, 0XFD9D, 0XFDB0, 0XFDC3, 0XFDD5, 0XFDE8, 0XFDFA, 0XFE0B, 0XFE1D, 0XFE2E, 0XFE3E, 0XFE4F, 0XFE5F, 0XFE6F, 0XFE7E, 0XFE8D,
0XFE9C, 0XFEAB, 0XFEB9, 0XFEC7, 0XFED5, 0XFEE2, 0XFEEF, 0XFEFC, 0XFF09, 0XFF15, 0XFF21, 0XFF2C, 0XFF37, 0XFF42, 0XFF4D, 0XFF57,
0XFF61, 0XFF6B, 0XFF74, 0XFF7D, 0XFF86, 0XFF8F, 0XFF97, 0XFF9F, 0XFFA6, 0XFFAD, 0XFFB4, 0XFFBB, 0XFFC1, 0XFFC7, 0XFFCD, 0XFFD2,
0XFFD8, 0XFFDC, 0XFFE1, 0XFFE5, 0XFFE9, 0XFFEC, 0XFFF0, 0XFFF3, 0XFFF5, 0XFFF7, 0XFFF9, 0XFFFB, 0XFFFD, 0XFFFE, 0XFFFE, 0XFFFF,
0XFFFF, 0XFFFF, 0XFFFE, 0XFFFE, 0XFFFD, 0XFFFB, 0XFFF9, 0XFFF7, 0XFFF5, 0XFFF3, 0XFFF0, 0XFFEC, 0XFFE9, 0XFFE5, 0XFFE1, 0XFFDC,
0XFFD8, 0XFFD2, 0XFFCD, 0XFFC7, 0XFFC1, 0XFFBB, 0XFFB4, 0XFFAD, 0XFFA6, 0XFF9F, 0XFF97, 0XFF8F, 0XFF86, 0XFF7D, 0XFF74, 0XFF6B,
0XFF61, 0XFF57, 0XFF4D, 0XFF42, 0XFF37, 0XFF2C, 0XFF21, 0XFF15, 0XFF09, 0XFEFC, 0XFEEF, 0XFEE2, 0XFED5, 0XFEC7, 0XFEB9, 0XFEAB,
0XFE9C, 0XFE8D, 0XFE7E, 0XFE6F, 0XFE5F, 0XFE4F, 0XFE3E, 0XFE2E, 0XFE1D, 0XFE0B, 0XFDFA, 0XFDE8, 0XFDD5, 0XFDC3, 0XFDB0, 0XFD9D,
0XFD89, 0XFD76, 0XFD62, 0XFD4D, 0XFD39, 0XFD24, 0XFD0E, 0XFCF9, 0XFCE3, 0XFCCD, 0XFCB6, 0XFC9F, 0XFC88, 0XFC71, 0XFC59, 0XFC41,
0XFC29, 0XFC10, 0XFBF8, 0XFBDE, 0XFBC5, 0XFBAB, 0XFB91, 0XFB77, 0XFB5C, 0XFB41, 0XFB26, 0XFB0A, 0XFAEE, 0XFAD2, 0XFAB6, 0XFA99,
0XFA7C, 0XFA5F, 0XFA41, 0XFA23, 0XFA05, 0XF9E6, 0XF9C8, 0XF9A9, 0XF989, 0XF969, 0XF94A, 0XF929, 0XF909, 0XF8E8, 0XF8C7, 0XF8A5,
0XF884, 0XF862, 0XF83F, 0XF81D, 0XF7FA, 0XF7D7, 0XF7B3, 0XF78F, 0XF76B, 0XF747, 0XF722, 0XF6FE, 0XF6D8, 0XF6B3, 0XF68D, 0XF667,
0XF641, 0XF61A, 0XF5F3, 0XF5CC, 0XF5A5, 0XF57D, 0XF555, 0XF52C, 0XF504, 0XF4DB, 0XF4B2, 0XF488, 0XF45F, 0XF435, 0XF40A, 0XF3E0,
0XF3B5, 0XF38A, 0XF35E, 0XF333, 0XF307, 0XF2DB, 0XF2AE, 0XF281, 0XF254, 0XF227, 0XF1F9, 0XF1CB, 0XF19D, 0XF16F, 0XF140, 0XF111,
0XF0E2, 0XF0B2, 0XF083, 0XF052, 0XF022, 0XEFF2, 0XEFC1, 0XEF8F, 0XEF5E, 0XEF2C, 0XEEFA, 0XEEC8, 0XEE96, 0XEE63, 0XEE30, 0XEDFD,
0XEDC9, 0XED95, 0XED61, 0XED2D, 0XECF8, 0XECC3, 0XEC8E, 0XEC59, 0XEC23, 0XEBED, 0XEBB7, 0XEB81, 0XEB4A, 0XEB13, 0XEADC, 0XEAA4,
0XEA6D, 0XEA35, 0XE9FC, 0XE9C4, 0XE98B, 0XE952, 0XE919, 0XE8DF, 0XE8A6, 0XE86C, 0XE831, 0XE7F7, 0XE7BC, 0XE781, 0XE746, 0XE70A,
0XE6CF, 0XE693, 0XE656, 0XE61A, 0XE5DD, 0XE5A0, 0XE563, 0XE525, 0XE4E8, 0XE4AA, 0XE46B, 0XE42D, 0XE3EE, 0XE3AF, 0XE370, 0XE331,
0XE2F1, 0XE2B1, 0XE271, 0XE231, 0XE1F0, 0XE1AF, 0XE16E, 0XE12D, 0XE0EB, 0XE0AA, 0XE068, 0XE025, 0XDFE3, 0XDFA0, 0XDF5D, 0XDF1A,
0XDED7, 0XDE93, 0XDE4F, 0XDE0B, 0XDDC7, 0XDD82, 0XDD3D, 0XDCF8, 0XDCB3, 0XDC6E, 0XDC28, 0XDBE2, 0XDB9C, 0XDB56, 0XDB0F, 0XDAC9,
0XDA82, 0XDA3A, 0XD9F3, 0XD9AB, 0XD964, 0XD91B, 0XD8D3, 0XD88B, 0XD842, 0XD7F9, 0XD7B0, 0XD767, 0XD71D, 0XD6D3, 0XD689, 0XD63F,
0XD5F5, 0XD5AA, 0XD55F, 0XD514, 0XD4C9, 0XD47E, 0XD432, 0XD3E6, 0XD39A, 0XD34E, 0XD302, 0XD2B5, 0XD268, 0XD21B, 0XD1CE, 0XD181,
0XD133, 0XD0E5, 0XD097, 0XD049, 0XCFFB, 0XCFAC, 0XCF5D, 0XCF0E, 0XCEBF, 0XCE70, 0XCE20, 0XCDD0, 0XCD81, 0XCD30, 0XCCE0, 0XCC90,
0XCC3F, 0XCBEE, 0XCB9D, 0XCB4C, 0XCAFB, 0XCAA9, 0XCA57, 0XCA05, 0XC9B3, 0XC961, 0XC90F, 0XC8BC, 0XC869, 0XC816, 0XC7C3, 0XC770,
0XC71C, 0XC6C8, 0XC675, 0XC621, 0XC5CC, 0XC578, 0XC524, 0XC4CF, 0XC47A, 0XC425, 0XC3D0, 0XC37A, 0XC325, 0XC2CF, 0XC279, 0XC224,
0XC1CD, 0XC177, 0XC121, 0XC0CA, 0XC073, 0XC01C, 0XBFC5, 0XBF6E, 0XBF17, 0XBEBF, 0XBE67, 0XBE0F, 0XBDB7, 0XBD5F, 0XBD07, 0XBCAF,
0XBC56, 0XBBFD, 0XBBA4, 0XBB4B, 0XBAF2, 0XBA99, 0XBA3F, 0XB9E6, 0XB98C, 0XB932, 0XB8D8, 0XB87E, 0XB824, 0XB7C9, 0XB76F, 0XB714,
0XB6B9, 0XB65E, 0XB603, 0XB5A8, 0XB54D, 0XB4F1, 0XB496, 0XB43A, 0XB3DE, 0XB382, 0XB326, 0XB2CA, 0XB26E, 0XB211, 0XB1B5, 0XB158,
0XB0FB, 0XB09E, 0XB041, 0XAFE4, 0XAF87, 0XAF29, 0XAECC, 0XAE6E, 0XAE10, 0XADB3, 0XAD55, 0XACF6, 0XAC98, 0XAC3A, 0XABDC, 0XAB7D,
0XAB1F, 0XAAC0, 0XAA61, 0XAA02, 0XA9A3, 0XA944, 0XA8E5, 0XA885, 0XA826, 0XA7C7, 0XA767, 0XA707, 0XA6A7, 0XA648, 0XA5E8, 0XA588,
0XA527, 0XA4C7, 0XA467, 0XA406, 0XA3A6, 0XA345, 0XA2E5, 0XA284, 0XA223, 0XA1C2, 0XA161, 0XA100, 0XA09F, 0XA03E, 0X9FDC, 0X9F7B,
0X9F19, 0X9EB8, 0X9E56, 0X9DF4, 0X9D93, 0X9D31, 0X9CCF, 0X9C6D, 0X9C0B, 0X9BA9, 0X9B47, 0X9AE4, 0X9A82, 0X9A20, 0X99BD, 0X995B,
0X98F8, 0X9895, 0X9833, 0X97D0, 0X976D, 0X970A, 0X96A7, 0X9645, 0X95E1, 0X957E, 0X951B, 0X94B8, 0X9455, 0X93F2, 0X938E, 0X932B,
0X92C7, 0X9264, 0X9201, 0X919D, 0X9139, 0X90D6, 0X9072, 0X900E, 0X8FAB, 0X8F47, 0X8EE3, 0X8E7F, 0X8E1B, 0X8DB7, 0X8D53, 0X8CEF,
0X8C8B, 0X8C27, 0X8BC3, 0X8B5F, 0X8AFB, 0X8A97, 0X8A32, 0X89CE, 0X896A, 0X8906, 0X88A1, 0X883D, 0X87D9, 0X8774, 0X8710, 0X86AC,
0X8647, 0X85E3, 0X857E, 0X851A, 0X84B6, 0X8451, 0X83ED, 0X8388, 0X8324, 0X82BF, 0X825B, 0X81F6, 0X8192, 0X812D, 0X80C9, 0X8064,
0X8000, 0X7F9B, 0X7F36, 0X7ED2, 0X7E6D, 0X7E09, 0X7DA4, 0X7D40, 0X7CDB, 0X7C77, 0X7C12, 0X7BAE, 0X7B49, 0X7AE5, 0X7A81, 0X7A1C,
0X79B8, 0X7953, 0X78EF, 0X788B, 0X7826, 0X77C2, 0X775E, 0X76F9, 0X7695, 0X7631, 0X75CD, 0X7568, 0X7504, 0X74A0, 0X743C, 0X73D8,
0X7374, 0X7310, 0X72AC, 0X7248, 0X71E4, 0X7180, 0X711C, 0X70B8, 0X7054, 0X6FF1, 0X6F8D, 0X6F29, 0X6EC6, 0X6E62, 0X6DFE, 0X6D9B,
0X6D38, 0X6CD4, 0X6C71, 0X6C0D, 0X6BAA, 0X6B47, 0X6AE4, 0X6A81, 0X6A1E, 0X69BA, 0X6958, 0X68F5, 0X6892, 0X682F, 0X67CC, 0X676A,
0X6707, 0X66A4, 0X6642, 0X65DF, 0X657D, 0X651B, 0X64B8, 0X6456, 0X63F4, 0X6392, 0X6330, 0X62CE, 0X626C, 0X620B, 0X61A9, 0X6147,
0X60E6, 0X6084, 0X6023, 0X5FC1, 0X5F60, 0X5EFF, 0X5E9E, 0X5E3D, 0X5DDC, 0X5D7B, 0X5D1A, 0X5CBA, 0X5C59, 0X5BF9, 0X5B98, 0X5B38,
0X5AD8, 0X5A77, 0X5A17, 0X59B7, 0X5958, 0X58F8, 0X5898, 0X5838, 0X57D9, 0X577A, 0X571A, 0X56BB, 0X565C, 0X55FD, 0X559E, 0X553F,
0X54E0, 0X5482, 0X5423, 0X53C5, 0X5367, 0X5309, 0X52AA, 0X524C, 0X51EF, 0X5191, 0X5133, 0X50D6, 0X5078, 0X501B, 0X4FBE, 0X4F61,
0X4F04, 0X4EA7, 0X4E4A, 0X4DEE, 0X4D91, 0X4D35, 0X4CD9, 0X4C7D, 0X4C21, 0X4BC5, 0X4B69, 0X4B0E, 0X4AB2, 0X4A57, 0X49FC, 0X49A1,
0X4946, 0X48EB, 0X4890, 0X4836, 0X47DB, 0X4781, 0X4727, 0X46CD, 0X4673, 0X4619, 0X45C0, 0X4566, 0X450D, 0X44B4, 0X445B, 0X4402,
0X43A9, 0X4350, 0X42F8, 0X42A0, 0X4248, 0X41F0, 0X4198, 0X4140, 0X40E8, 0X4091, 0X403A, 0X3FE3, 0X3F8C, 0X3F35, 0X3EDE, 0X3E88,
0X3E32, 0X3DDB, 0X3D86, 0X3D30, 0X3CDA, 0X3C85, 0X3C2F, 0X3BDA, 0X3B85, 0X3B30, 0X3ADB, 0X3A87, 0X3A33, 0X39DE, 0X398A, 0X3937,
0X38E3, 0X388F, 0X383C, 0X37E9, 0X3796, 0X3743, 0X36F0, 0X369E, 0X364C, 0X35FA, 0X35A8, 0X3556, 0X3504, 0X34B3, 0X3462, 0X3411,
0X33C0, 0X336F, 0X331F, 0X32CF, 0X327E, 0X322F, 0X31DF, 0X318F, 0X3140, 0X30F1, 0X30A2, 0X3053, 0X3004, 0X2FB6, 0X2F68, 0X2F1A,
0X2ECC, 0X2E7E, 0X2E31, 0X2DE4, 0X2D97, 0X2D4A, 0X2CFD, 0X2CB1, 0X2C65, 0X2C19, 0X2BCD, 0X2B81, 0X2B36, 0X2AEB, 0X2AA0, 0X2A55,
0X2A0A, 0X29C0, 0X2976, 0X292C, 0X28E2, 0X2898, 0X284F, 0X2806, 0X27BD, 0X2774, 0X272C, 0X26E4, 0X269B, 0X2654, 0X260C, 0X25C5,
0X257D, 0X2536, 0X24F0, 0X24A9, 0X2463, 0X241D, 0X23D7, 0X2391, 0X234C, 0X2307, 0X22C2, 0X227D, 0X2238, 0X21F4, 0X21B0, 0X216C,
0X2128, 0X20E5, 0X20A2, 0X205F, 0X201C, 0X1FDA, 0X1F97, 0X1F55, 0X1F14, 0X1ED2, 0X1E91, 0X1E50, 0X1E0F, 0X1DCE, 0X1D8E, 0X1D4E,
0X1D0E, 0X1CCE, 0X1C8F, 0X1C50, 0X1C11, 0X1BD2, 0X1B94, 0X1B55, 0X1B17, 0X1ADA, 0X1A9C, 0X1A5F, 0X1A22, 0X19E5, 0X19A9, 0X196C,
0X1930, 0X18F5, 0X18B9, 0X187E, 0X1843, 0X1808, 0X17CE, 0X1793, 0X1759, 0X1720, 0X16E6, 0X16AD, 0X1674, 0X163B, 0X1603, 0X15CA,
0X1592, 0X155B, 0X1523, 0X14EC, 0X14B5, 0X147E, 0X1448, 0X1412, 0X13DC, 0X13A6, 0X1371, 0X133C, 0X1307, 0X12D2, 0X129E, 0X126A,
0X1236, 0X1202, 0X11CF, 0X119C, 0X1169, 0X1137, 0X1105, 0X10D3, 0X10A1, 0X1070, 0X103E, 0X100D, 0X0FDD, 0X0FAD, 0X0F7C, 0X0F4D,
0X0F1D, 0X0EEE, 0X0EBF, 0X0E90, 0X0E62, 0X0E34, 0X0E06, 0X0DD8, 0X0DAB, 0X0D7E, 0X0D51, 0X0D24, 0X0CF8, 0X0CCC, 0X0CA1, 0X0C75,
0X0C4A, 0X0C1F, 0X0BF5, 0X0BCA, 0X0BA0, 0X0B77, 0X0B4D, 0X0B24, 0X0AFB, 0X0AD3, 0X0AAA, 0X0A82, 0X0A5A, 0X0A33, 0X0A0C, 0X09E5,
0X09BE, 0X0998, 0X0972, 0X094C, 0X0927, 0X0901, 0X08DD, 0X08B8, 0X0894, 0X0870, 0X084C, 0X0828, 0X0805, 0X07E2, 0X07C0, 0X079D,
0X077B, 0X075A, 0X0738, 0X0717, 0X06F6, 0X06D6, 0X06B5, 0X0696, 0X0676, 0X0656, 0X0637, 0X0619, 0X05FA, 0X05DC, 0X05BE, 0X05A0,
0X0583, 0X0566, 0X0549, 0X052D, 0X0511, 0X04F5, 0X04D9, 0X04BE, 0X04A3, 0X0488, 0X046E, 0X0454, 0X043A, 0X0421, 0X0407, 0X03EF,
0X03D6, 0X03BE, 0X03A6, 0X038E, 0X0377, 0X0360, 0X0349, 0X0332, 0X031C, 0X0306, 0X02F1, 0X02DB, 0X02C6, 0X02B2, 0X029D, 0X0289,
0X0276, 0X0262, 0X024F, 0X023C, 0X022A, 0X0217, 0X0205, 0X01F4, 0X01E2, 0X01D1, 0X01C1, 0X01B0, 0X01A0, 0X0190, 0X0181, 0X0172,
0X0163, 0X0154, 0X0146, 0X0138, 0X012A, 0X011D, 0X0110, 0X0103, 0X00F6, 0X00EA, 0X00DE, 0X00D3, 0X00C8, 0X00BD, 0X00B2, 0X00A8,
0X009E, 0X0094, 0X008B, 0X0082, 0X0079, 0X0070, 0X0068, 0X0060, 0X0059, 0X0052, 0X004B, 0X0044, 0X003E, 0X0038, 0X0032, 0X002D,
0X0027, 0X0023, 0X001E, 0X001A, 0X0016, 0X0013, 0X000F, 0X000C, 0X000A, 0X0008, 0X0006, 0X0004, 0X0002, 0X0001, 0X0001, 0X0000,
0X0000, 0X0000, 0X0001, 0X0001, 0X0002, 0X0004, 0X0006, 0X0008, 0X000A, 0X000C, 0X000F, 0X0013, 0X0016, 0X001A, 0X001E, 0X0023,
0X0027, 0X002D, 0X0032, 0X0038, 0X003E, 0X0044, 0X004B, 0X0052, 0X0059, 0X0060, 0X0068, 0X0070, 0X0079, 0X0082, 0X008B, 0X0094,
0X009E, 0X00A8, 0X00B2, 0X00BD, 0X00C8, 0X00D3, 0X00DE, 0X00EA, 0X00F6, 0X0103, 0X0110, 0X011D, 0X012A, 0X0138, 0X0146, 0X0154,
0X0163, 0X0172, 0X0181, 0X0190, 0X01A0, 0X01B0, 0X01C1, 0X01D1, 0X01E2, 0X01F4, 0X0205, 0X0217, 0X022A, 0X023C, 0X024F, 0X0262,
0X0276, 0X0289, 0X029D, 0X02B2, 0X02C6, 0X02DB, 0X02F1, 0X0306, 0X031C, 0X0332, 0X0349, 0X0360, 0X0377, 0X038E, 0X03A6, 0X03BE,
0X03D6, 0X03EF, 0X0407, 0X0421, 0X043A, 0X0454, 0X046E, 0X0488, 0X04A3, 0X04BE, 0X04D9, 0X04F5, 0X0511, 0X052D, 0X0549, 0X0566,
0X0583, 0X05A0, 0X05BE, 0X05DC, 0X05FA, 0X0619, 0X0637, 0X0656, 0X0676, 0X0696, 0X06B5, 0X06D6, 0X06F6, 0X0717, 0X0738, 0X075A,
0X077B, 0X079D, 0X07C0, 0X07E2, 0X0805, 0X0828, 0X084C, 0X0870, 0X0894, 0X08B8, 0X08DD, 0X0901, 0X0927, 0X094C, 0X0972, 0X0998,
0X09BE, 0X09E5, 0X0A0C, 0X0A33, 0X0A5A, 0X0A82, 0X0AAA, 0X0AD3, 0X0AFB, 0X0B24, 0X0B4D, 0X0B77, 0X0BA0, 0X0BCA, 0X0BF5, 0X0C1F,
0X0C4A, 0X0C75, 0X0CA1, 0X0CCC, 0X0CF8, 0X0D24, 0X0D51, 0X0D7E, 0X0DAB, 0X0DD8, 0X0E06, 0X0E34, 0X0E62, 0X0E90, 0X0EBF, 0X0EEE,
0X0F1D, 0X0F4D, 0X0F7C, 0X0FAD, 0X0FDD, 0X100D, 0X103E, 0X1070, 0X10A1, 0X10D3, 0X1105, 0X1137, 0X1169, 0X119C, 0X11CF, 0X1202,
0X1236, 0X126A, 0X129E, 0X12D2, 0X1307, 0X133C, 0X1371, 0X13A6, 0X13DC, 0X1412, 0X1448, 0X147E, 0X14B5, 0X14EC, 0X1523, 0X155B,
0X1592, 0X15CA, 0X1603, 0X163B, 0X1674, 0X16AD, 0X16E6, 0X1720, 0X1759, 0X1793, 0X17CE, 0X1808, 0X1843, 0X187E, 0X18B9, 0X18F5,
0X1930, 0X196C, 0X19A9, 0X19E5, 0X1A22, 0X1A5F, 0X1A9C, 0X1ADA, 0X1B17, 0X1B55, 0X1B94, 0X1BD2, 0X1C11, 0X1C50, 0X1C8F, 0X1CCE,
0X1D0E, 0X1D4E, 0X1D8E, 0X1DCE, 0X1E0F, 0X1E50, 0X1E91, 0X1ED2, 0X1F14, 0X1F55, 0X1F97, 0X1FDA, 0X201C, 0X205F, 0X20A2, 0X20E5,
0X2128, 0X216C, 0X21B0, 0X21F4, 0X2238, 0X227D, 0X22C2, 0X2307, 0X234C, 0X2391, 0X23D7, 0X241D, 0X2463, 0X24A9, 0X24F0, 0X2536,
0X257D, 0X25C5, 0X260C, 0X2654, 0X269B, 0X26E4, 0X272C, 0X2774, 0X27BD, 0X2806, 0X284F, 0X2898, 0X28E2, 0X292C, 0X2976, 0X29C0,
0X2A0A, 0X2A55, 0X2AA0, 0X2AEB, 0X2B36, 0X2B81, 0X2BCD, 0X2C19, 0X2C65, 0X2CB1, 0X2CFD, 0X2D4A, 0X2D97, 0X2DE4, 0X2E31, 0X2E7E,
0X2ECC, 0X2F1A, 0X2F68, 0X2FB6, 0X3004, 0X3053, 0X30A2, 0X30F1, 0X3140, 0X318F, 0X31DF, 0X322F, 0X327E, 0X32CF, 0X331F, 0X336F,
0X33C0, 0X3411, 0X3462, 0X34B3, 0X3504, 0X3556, 0X35A8, 0X35FA, 0X364C, 0X369E, 0X36F0, 0X3743, 0X3796, 0X37E9, 0X383C, 0X388F,
0X38E3, 0X3937, 0X398A, 0X39DE, 0X3A33, 0X3A87, 0X3ADB, 0X3B30, 0X3B85, 0X3BDA, 0X3C2F, 0X3C85, 0X3CDA, 0X3D30, 0X3D86, 0X3DDB,
0X3E32, 0X3E88, 0X3EDE, 0X3F35, 0X3F8C, 0X3FE3, 0X403A, 0X4091, 0X40E8, 0X4140, 0X4198, 0X41F0, 0X4248, 0X42A0, 0X42F8, 0X4350,
0X43A9, 0X4402, 0X445B, 0X44B4, 0X450D, 0X4566, 0X45C0, 0X4619, 0X4673, 0X46CD, 0X4727, 0X4781, 0X47DB, 0X4836, 0X4890, 0X48EB,
0X4946, 0X49A1, 0X49FC, 0X4A57, 0X4AB2, 0X4B0E, 0X4B69, 0X4BC5, 0X4C21, 0X4C7D, 0X4CD9, 0X4D35, 0X4D91, 0X4DEE, 0X4E4A, 0X4EA7,
0X4F04, 0X4F61, 0X4FBE, 0X501B, 0X5078, 0X50D6, 0X5133, 0X5191, 0X51EF, 0X524C, 0X52AA, 0X5309, 0X5367, 0X53C5, 0X5423, 0X5482,
0X54E0, 0X553F, 0X559E, 0X55FD, 0X565C, 0X56BB, 0X571A, 0X577A, 0X57D9, 0X5838, 0X5898, 0X58F8, 0X5958, 0X59B7, 0X5A17, 0X5A77,
0X5AD8, 0X5B38, 0X5B98, 0X5BF9, 0X5C59, 0X5CBA, 0X5D1A, 0X5D7B, 0X5DDC, 0X5E3D, 0X5E9E, 0X5EFF, 0X5F60, 0X5FC1, 0X6023, 0X6084,
0X60E6, 0X6147, 0X61A9, 0X620B, 0X626C, 0X62CE, 0X6330, 0X6392, 0X63F4, 0X6456, 0X64B8, 0X651B, 0X657D, 0X65DF, 0X6642, 0X66A4,
0X6707, 0X676A, 0X67CC, 0X682F, 0X6892, 0X68F5, 0X6958, 0X69BA, 0X6A1E, 0X6A81, 0X6AE4, 0X6B47, 0X6BAA, 0X6C0D, 0X6C71, 0X6CD4,
0X6D38, 0X6D9B, 0X6DFE, 0X6E62, 0X6EC6, 0X6F29, 0X6F8D, 0X6FF1, 0X7054, 0X70B8, 0X711C, 0X7180, 0X71E4, 0X7248, 0X72AC, 0X7310,
0X7374, 0X73D8, 0X743C, 0X74A0, 0X7504, 0X7568, 0X75CD, 0X7631, 0X7695, 0X76F9, 0X775E, 0X77C2, 0X7826, 0X788B, 0X78EF, 0X7953,
0X79B8, 0X7A1C, 0X7A81, 0X7AE5, 0X7B49, 0X7BAE, 0X7C12, 0X7C77, 0X7CDB, 0X7D40, 0X7DA4, 0X7E09, 0X7E6D, 0X7ED2, 0X7F36, 0X7F9B,

};

*/

/*
uint16_t sine_table[] = {255, 358, 443, 497, 511, 482, 416, 322, 218,
	       120, 45, 4, 6, 49, 126, 225, 329, 421, 485,
	       511, 495, 438, 351, 248, 147, 63, 12, 1, 32,
	       101, 195, 300, 397, 470, 508, 504, 458, 379, 279,
	       175, 85, 23, 0, 19, 78, 166, 270, 370, 452,
	       501, 509, 475, 404, 309, 204, 108, 37, 2, 9,
	       57, 138, 239, 343, 432, 491, 511, 489, 428, 338,
	       234, 134, 54, 8, 3, 39, 112, 209, 313, 408,
	       478, 510, 500, 449, 366, 265, 162, 74, 17, 0,
	       25, 88, 180, 284, 383, 461, 505, 507, 468, 393,
	       295, 191, 97, 30, 0, 13, 66, 151, 253, 356,
	       441, 496, 511, 483, 417, 325, 220, 122, 46, 5,
	       5, 47, 124, 223, 327, 419, 484, 511, 495, 440,
	       353, 251, 149, 65, 12, 1, 31, 99, 193, 297,
	       395, 469, 508, 504, 459, 381, 281, 177, 86, 24,
	       0, 18, 76, 164, 267, 368, 451, 501, 510, 476,
	       406, 311, 207, 110, 38, 2, 8, 56, 136, 237,
	       340, 430, 490, 511, 490, 430, 340, 237, 136, 56,
	       8, 2, 38, 110, 207, 311, 406, 476, 510, 501,
	       451, 368, 267, 164, 76, 18, 0, 24, 87, 177,
	       281, 381, 460, 504, 508, 469, 395, 297, 193, 99,
	       31, 1, 13, 65, 149, 251, 354, 440, 495, 511,
	       484, 419, 327, 223, 124, 47, 5, 5, 46, 122,
	       221, 325, 418, 483, 511, 496, 441, 355, 253, 151,
	       66, 13, 0, 30, 97, 191, 295, 393, 468, 507,
	       505, 461, 383, 283, 179, 88, 25, 0, 17, 75,
	       162, 265, 366, 449, 500, 510, 477, 408, 313, 209,
	       112, 39, 3, 8, 54, 135, 235, 338, 428, 489,
	       511, 491, 431, 342, 239, 138, 57, 9, 2, 37,
	       109, 205, 309, 405, 475, 509, 501, 452, 370, 269,
	       166, 78, 19, 0, 23, 85, 175, 279, 379, 458,
	       504, 508, 470, 397, 299, 195, 101, 32, 1, 12,
	       63, 147, 249, 352, 438, 495, 511, 485, 421, 329,
	       225, 126, 49, 6, 4, 45, 120, 218, 323, 416,
	       482, 511, 497, 443, 357, 255, 153, 68, 14, 0,
	       29, 96, 189, 293, 391, 467, 507, 505, 462, 385,
	       286, 181, 90, 26, 0, 17, 73, 160, 263, 364,
	       448, 499, 510, 479, 410, 315, 211, 114, 41, 3,
	       7, 53, 133, 232, 336, 427, 488, 511, 492, 433,
	       344, 241, 140, 59, 10, 2, 36, 107, 202, 307,
	       403, 474, 509, 502, 454, 372, 272, 168, 79, 20,
	       0, 22, 83, 173, 277, 377, 457, 503, 508, 471,
	       398, 302, 197, 102, 33, 1, 11, 62, 145, 247,
	       349, 437, 494, 511, 486, 423, 331, 227, 128, 50,
	       6, 4, 44, 118, 216, 321, 414, 481, 511, 498,
	       444, 360, 257, 155, 69, 15, 0, 28, 94, 187,
	       291, 389, 465, 506, 506, 463, 387, 288, 184, 91,
	       27, 0, 16, 71, 158, 261, 362, 446, 499, 510,
	       480, 412, 318, 213, 116, 42, 3, 7, 52, 131,
	       230, 334, 425, 487, 511, 493, 435, 347, 243, 142,
	       60, 10, 1, 35, 105, 200, 305, 401, 473, 509,
	       502, 455, 374, 274, 170, 81, 21, 0, 21, 82,
	       171, 275, 375, 455, 503, 509, 473, 400, 304, 199,
	       104, 34, 1, 10, 61, 143, 244, 347, 435, 493,
	       511, 487, 424, 333, 229, 130, 51, 7, 3, 42,
	       117, 214, 318, 412, 480, 510, 498, 446, 362, 260,
	       157, 71, 15, 0, 27, 92, 184, 289, 387, 464,
	       506, 506, 465, 388, 290, 186, 93, 28, 0, 15,
	       70, 156, 258, 360, 445, 498, 511, 481, 413, 320,
	       215, 118, 43, 4, 6, 50, 129, 228, 332, 423,
	       486, 511, 494, 436, 349, 246, 144, 61, 11, 1,
	       34, 103, 198, 302, 399, 472, 508, 503, 456, 376,
	       276, 172, 83, 22, 0, 20, 80, 169, 272, 373,
	       454, 502, 509, 474, 402, 306, 202, 106, 35, 2,
	       10, 59, 141, 242, 345, 434, 492, 511, 488, 426,
	       335, 232, 132, 53, 7, 3, 41, 115, 212, 316,
	       411, 479, 510, 499, 447, 364, 262, 159, 72, 16,
	       0, 26, 90, 182, 286, 385, 463, 505, 507, 466,
	       390, 292, 188, 95, 29, 0, 14, 68, 154, 256,
	       358, 443, 497, 511, 482, 415, 322, 218, 120, 44,
	       4, 6, 49, 127, 226, 330, 421, 486, 511, 494,
	       438, 351, 248, 146, 63, 12, 1, 33, 101, 196,
	       300, 397, 471, 508, 504, 458, 378, 278, 174, 84,
	       22, 0, 19, 78, 167, 270, 371, 453, 501, 509,
	       475, 404, 308, 204, 108, 37, 2, 9, 58, 139,
	       240, 343, 432, 491, 511, 489, 428, 338, 234, 134,
	       54, 8, 3, 40, 113, 210, 314, 409, 478, 510,
	       500, 449, 366, 264, 161, 74, 17, 0, 25, 89,
	       180, 284, 383, 461, 505, 507, 467, 392, 294, 190,
	       97, 30, 0, 13, 67, 152, 254, 356, 442, 496,
	       511, 483, 417, 324, 220, 122, 46, 5, 5, 48,
	       125, 224, 328, 420, 485, 511, 495, 439, 353, 250,
	       148, 64, 12, 1, 31, 100, 194, 298, 395, 469,
	       508, 504, 459, 380, 280, 177, 86, 23, 0, 18,
	       77, 165, 268, 369, 451, 501, 510, 476, 406, 310,
	       206, 110, 38, 2, 9, 56, 137, 238, 341, 430,
	       490, 511, 490, 429, 340, 236, 136, 55, 8, 2,
	       39, 111, 207, 312, 407, 477, 510, 500, 450, 368,
	       266, 163, 76, 18, 0, 24, 87, 178, 282, 381,
	       460, 504, 508, 469, 394, 297, 192, 98, 31, 0,
	       13, 65, 150, 252, 354, 440, 496, 511, 484, 419,
	       326, 222, 123, 47, 5, 5, 46, 123, 221, 325,
	       418, 484, 511, 496, 441, 355, 252, 150, 66, 13,
	       0, 30, 98, 192, 296, 393, 468, 507, 505, 460,
	       382, 283, 179, 88, 24, 0, 18, 75, 163, 266,
	       367, 450, 500, 510, 477, 408, 313, 208, 112, 39,
	       2, 8, 55, 135, 235, 339, 429, 490, 511, 491,
	       431, 342, 238, 138, 57, 9, 2, 37, 109, 205,
	       310, 405, 476, 509, 501, 452, 370, 269, 165, 77,
	       19, 0, 23, 85, 176, 280, 379, 459, 504, 508,
	       470};
*/
